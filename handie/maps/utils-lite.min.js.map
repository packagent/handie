{"version":3,"sources":["utils-lite.js"],"names":["global","factory","exports","module","define","amd","this","toString","target","Object","prototype","call","hasOwnProp","prop","obj","hasOwnProperty","_typeof","Symbol","iterator","constructor","_typeof$1","isBoolean","isString","isFunction","isArray","isLooseObject","isGlobal","isArrayLike","result","length","nodeType","isNaN","isPlainObject","err","key","undefined","treatAsArray","eachItem","callback","idx","ele","charAt","apply","name","value","extendTarget","args","arguments","i","deep","clone","copy","copyIsArray","opts","src","toArray$1","slice","includes","collection","indexOf","jQuery","inArray","map","keys","arr","push","concat","APP_DEFAULTS","theme","color","behavior","flexible","PRIVATE_DATA","BIZ_DATA","resolveRefKeys","ref","RegExp","test","split","saveData","storage","val","merge","refKeys","lastKey","pop","tmp","k","retrieveData","keyLength","setDefaults","_len","Array","_key","getDefaults","_len2","_key2","getPrivate","_len4","_key4","getBridge","flag","invoke","handler","isNativeFirst","envs","resolveBridge","native","rest","baseURL","serverErrorText","jsonify","params","isRestful","res","errorHandler","code","status","resText","responseText","resJson","responseJSON","JSON","parse","message","errorMsg","responseHandler","hasCallback","success","data","completeHandler","requestSender","resolveRequestSender","ready","support","fn","ajax","axios","get","put","post","delete","options","head","patch","request","sendRequestViaJquery","httpDefaults","url","method","resolved","type","isJson","stringify","contentType","encodeURIComponent","join","req","window","always","done","resolveResponseResult","fail","jqXHR","sendHttpRequest","generateHttpUtil","httpGetUtil","httpPostUtil","httpPutUtil","httpDeleteUtil","http","freeze","jsonifyFormData","$form","str","jsonData","pair","p","decodeURIComponent","$","serializeArray","newJson","waitingForResponse","$target","text","$dlg","closest","addClass","show","append","generateHttpUtil$1","last","$waiting","waitingText","filter","$field","serializer","RESTful","each","$layer","$modal","hide","removeClass","httpGetUtil$1","httpPostUtil$1","httpPutUtil$1","httpDeleteUtil$1","http$1","waiting","socket","init","isNoProtocol","realStringObj","ws","WebSocket","location","hostname","replace","closeBeforeUnload","addEventListener","close","interval","parseFloat","keepSocketAlive","setTimeout","send","evtName","toUpperCase","getMoveDigit","a","b","_a","_b","la","lb","Math","max","move2Right","num","digit","_num","move2Left","len","unshift","splice","calc","plus","d","minus","multiply","divided","changed","raw","excluded","filtered","v","STORAGE_KEY","sliceUrlPart","part","href","el","document","createElement","setAttribute","builtInActions","edit","icon","action","disable","enable","resolveDefaultTriggerOptions","resolveTriggerOptionsSimply","resolveTriggerOptions","defaultActionOpts","isDelete","defaultOpts","generateSubItem","item","content","html","isExternal","constructActionButton","settings","size","hasChildren","actions","btnCls","classes","isPrimary","btnAttrs","attributes","attrs","triggerCls","tagName","disabled","isSplit","tooltip","iconCls","fixedWidth","isCoexisted","generateMainTrigger","buttonClass","align","child","isGrouped","items","groupedChild","isImageItemOverflow","$btn","limit","parent","generateImageItem","alt","removable","ext","segments","fileName","match","resolveFileExtension","toLowerCase","imageColumnCount","generate","wrapped","option","extra","selected","image","imageItem","maxCount","is","columnCount","Number","column","listCls","itemCls","$btnCol","$newCol","before","imageItemSize","siblings","$el","after","$btnRow","hiddenCls","generateUrlUtil","urlSearchUtil","protocol","host","port","pathname","hash","username","password","origin","query","defaultUrl","jsonified","search","keepSelected","ipt","body","appendChild","select","execCommand","removeChild","handie","set","_len5","_key5","_len6","_key6","calculate"],"mappings":"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","file":"../javascripts/utils-lite.min.js","sourcesContent":["/*!\n * Handie-jquery v1.0.3\n * 为前端开发提供统一的布局、组件和工具方法\n * https://github.com/ourai/handie\n *\n * Copyright 2017, Ourai Lin <ourairyu@gmail.com> (http://ourai.ws/)\n * Released under the MIT license.\n *\n * 00000000000000000000000000000000000000000000000000\n * 000000000000000000000GCft1tf1tLC000000000000000000\n * 00000000000000000LLf1i1i;t1t11i1itL000000000000000\n * 000000000000000Cf111t1;ttf1tt1if11;tfC000000000000\n * 0000000000000Ciiif11;11111iitf1f1ffftitL0000000000\n * 000000000000Ci1ti11i;1i11ti1i1;i1iit1iitG000000000\n * 000000000000t;iii1i1;11tt;1ii;1iiii11ti1G000000000\n * 0000000000Gf1i:;;ii;;;;1;i:1it;11i1tti:f8000000000\n * 00000000008ti;:;ii1tfti;;;1;ii1ii:11iiCG0000000000\n * 00000000000Git;f1f1fif1;i1t:;i;1:i;:;;800000000000\n * 00000000000C:1f;t;tt11;:tfC1:tt1;i::;:G00000000000\n * 000000000008i;i1fti;:ittCfftf:i1;ti;;;180000000000\n * 0000000000008fft1ff1tittttLGL.Li1;;1;ii80000000000\n * 000000000000CfLG800Gft1tffLLLLftt1::i;;C0000000000\n * 000000000000Li00GCCGGGf1LLfCCfi1tt1;11;G0000000000\n * 0000000000000;G80080008t1CfLtt;iff1;1if00000000000\n * 0000000000008i1LLCftG08011ttt1ttfff:ii;00000000000\n * G000000000000CL11ttCtfftfi1i;ifi1;1iL;C00000000000\n * 00G0G000000000000GLtfCG8i;:;1i;1if1fLfC00000000000\n * GGGGGGGG0000000000000G;tt:ii;1ftCLffLt1G0000000000\n * GGGGGGGGGG00000000000i;;i;ittLftLtf1t;;;L000000000\n * GGGGGGGGGGGGGGGGGG00:i;;i11ifLftft;ii1tLif000000G0\n * GGGGGGGGGGGGGGGGGGG0Lt;t;f1tfi;;;:itGCCitt:1C00GGG\n * GGGGGGGGGGGGGGGGGGGGG0i11:1:i:;1tCCCCGiGiCi::f0GGG\n * GGGGGGGGGGGGGGGGGGGGGf;,i1;:tLCffCLCf,tCCi1fi,fGGG\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\nfunction toString(target) {\n  return Object.prototype.toString.call(target);\n}\n\nfunction hasOwnProp(prop, obj) {\n  return obj != null && Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction capitalize(str) {\n  return \"\" + str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _typeof$1 = typeof Symbol === \"function\" && _typeof(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\nfunction isBoolean(target) {\n  return toString(target) === '[object Boolean]';\n}\n\nfunction isNumber(target) {\n  return toString(target) === '[object Number]' && !isNaN(target);\n}\n\nfunction isString(target) {\n  return toString(target) === '[object String]';\n}\n\nfunction isFunction(target) {\n  return toString(target) === '[object Function]';\n}\n\nfunction isArray(target) {\n  return toString(target) === '[object Array]';\n}\n\n\n\n\n\nfunction isObject(target) {\n  return toString(target) === '[object Object]';\n}\n\nfunction isLooseObject(target) {\n  return (typeof target === 'undefined' ? 'undefined' : _typeof$1(target)) === 'object';\n}\n\nfunction isNumeric(target) {\n  var realStringObj = target && target.toString();\n\n  return !isArray(target) && realStringObj - parseFloat(realStringObj) + 1 >= 0;\n}\n\nfunction isGlobal(target) {\n  return target && isLooseObject(target) && 'setInterval' in target;\n}\n\nfunction isArrayLike(target) {\n  var result = false;\n\n  if (isLooseObject(target) && !isGlobal(target)) {\n    var length = target.length;\n\n    if (target.nodeType === 1 && length || !isArray(target) && !isFunction(target) && (length === 0 || isNumber(length) && length > 0 && length - 1 in target)) {\n      result = true;\n    }\n  }\n\n  return result;\n}\n\nfunction isPlainObject(target) {\n  if (!target || !isLooseObject(target) || target.nodeType || isGlobal(target)) {\n    return false;\n  }\n\n  try {\n    if (target.constructor && !hasOwnProp('constructor', target) && !hasOwnProp('isPrototypeOf', target.constructor.prototype)) {\n      return false;\n    }\n  } catch (err) {\n    return false;\n  }\n\n  var key = void 0;\n\n  for (key in target) {\n    \n  }\n\n  return key === undefined || hasOwnProp(key, target);\n}\n\nfunction treatAsArray(target) {\n  return isString(target) || isArray(target) || isArrayLike(target);\n}\n\nfunction eachItem(target, callback) {\n  if (treatAsArray(target)) {\n    var idx = 0;\n    var ele = void 0;\n\n    while (idx < target.length) {\n      ele = isString(target) ? target.charAt(idx) : target[idx];\n\n      if (callback.apply(ele, [ele, idx++, target]) === false) {\n        break;\n      }\n    }\n  } else if (isObject(target) || isFunction(target)) {\n    var name = void 0,\n        value = void 0;\n\n    for (name in target) {\n      value = target[name];\n\n      if (callback.apply(value, [value, name, target]) === false) {\n        break;\n      }\n    }\n  }\n}\n\nfunction extendTarget() {\n  var args = arguments;\n  var length = args.length;\n\n  var target = args[0] || {};\n  var i = 1;\n  var deep = false;\n  var clone = void 0,\n      copy = void 0,\n      copyIsArray = void 0,\n      name = void 0,\n      opts = void 0,\n      src = void 0;\n\n  if (isBoolean(target)) {\n    deep = target;\n    target = args[1] || {};\n    i = 2;\n  }\n\n  if (!isLooseObject(target) && !isFunction(target)) {\n    target = {};\n  }\n\n  if (length === 1) {\n    target = this;\n    i--;\n  }\n\n  while (i < length) {\n    opts = args[i];\n\n    if (opts != null) {\n      for (name in opts) {\n        copy = opts[name];\n        src = target[name];\n\n        if (copy === target) {\n          continue;\n        }\n\n        if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n          if (copyIsArray) {\n            copyIsArray = false;\n            clone = src && isArray(src) ? src : [];\n          } else {\n            clone = src && isPlainObject(src) ? src : {};\n          }\n\n          target[name] = extendTarget(deep, clone, copy);\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n\n    i++;\n  }\n\n  return target;\n}\n\nfunction toArray$1(target) {\n  return treatAsArray(target) ? [].slice.call(target, 0) : [];\n}\n\nfunction includes(target, collection) {\n  if (isFunction(collection.includes)) {\n    return collection.includes(target);\n  } else if (isFunction(collection.indexOf)) {\n    return collection.indexOf(target) > -1;\n  } else {\n    try {\n      return jQuery.inArray(target, toArray$1(collection)) > -1;\n    } catch (err) {\n      return false;\n    }\n  }\n}\n\nfunction map(target, callback) {\n  var result = void 0;\n\n  if (treatAsArray(target)) {\n    if (isFunction([].map)) {\n      result = [].map.call(target, callback);\n    } else {\n      try {\n        result = jQuery.map(toArray$1(target), callback);\n      } catch (err) {\n        result = [];\n      }\n    }\n  }\n\n  return result || [];\n}\n\n\n\nfunction last(target) {\n  if (treatAsArray(target)) {\n    return target[target.length - 1];\n  }\n}\n\nfunction keys(target) {\n  if (isFunction(Object.keys)) {\n    return Object.keys(target);\n  }\n\n  var arr = [];\n\n  if (isPlainObject(target)) {\n    eachItem(target, function (key) {\n      return arr.push(key);\n    });\n  }\n\n  return arr;\n}\n\nfunction clone(target) {\n  return isArray(target) ? [].concat(target) : isPlainObject(target) ? extendTarget(true, {}, target) : target;\n}\n\nvar APP_DEFAULTS = {\n  theme: {\n    color: '#ff8903'\n  },\n  behavior: 'native',\n  flexible: false\n};\n\nvar PRIVATE_DATA = {};\nvar BIZ_DATA = {};\n\nfunction resolveRefKeys(ref) {\n  return isString(ref) && new RegExp('^[0-9a-z_]+(\\.[0-9a-z_]+)*$', 'i').test(ref) ? ref.split('.') : [];\n}\n\nfunction saveData(storage, ref, val) {\n  var merge = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var refKeys = resolveRefKeys(ref);\n\n  if (arguments.length < 3 || refKeys.length === 0) {\n    return;\n  }\n\n  var lastKey = refKeys.pop();\n\n  var tmp = storage;\n\n  eachItem(refKeys, function (k) {\n    if (!hasOwnProp(k, tmp)) {\n      tmp[k] = {};\n    }\n\n    tmp = tmp[k];\n  });\n\n  if (merge === true && isPlainObject(tmp[lastKey]) && isPlainObject(val)) {\n    extendTarget(true, tmp[lastKey], val);\n  } else {\n    tmp[lastKey] = val;\n  }\n\n  return val;\n}\n\nfunction retrieveData(storage, ref) {\n  var refKeys = resolveRefKeys(ref);\n  var keyLength = refKeys.length;\n\n  if (keyLength === 0) {\n    return;\n  }\n\n  var idx = 0;\n  var tmp = clone(storage);\n  var val = void 0,\n      k = void 0;\n\n  for (; idx < keyLength; idx++) {\n    k = refKeys[idx];\n    val = tmp[k];\n\n    if (!hasOwnProp(k, tmp)) {\n      break;\n    }\n\n    tmp = val;\n  }\n\n  return val;\n}\n\nfunction setDefaults() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return saveData.apply(undefined, [APP_DEFAULTS].concat(args, [true]));\n}\n\nfunction getDefaults() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return retrieveData.apply(undefined, [APP_DEFAULTS].concat(args));\n}\n\n\n\nfunction getPrivate() {\n  for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  return retrieveData.apply(undefined, [PRIVATE_DATA].concat(args));\n}\n\nfunction setBizData() {\n  for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  return saveData.apply(undefined, [BIZ_DATA].concat(args));\n}\n\nfunction getBizData() {\n  for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  return retrieveData.apply(undefined, [BIZ_DATA].concat(args));\n}\n\nfunction supportJquery() {\n  return isFunction(jQuery) && isFunction(jQuery.ready) && isPlainObject(jQuery.support) && isPlainObject(jQuery.fn);\n}\n\nfunction supportAxios() {\n  return isFunction(axios) && isFunction(axios.get) && isFunction(axios.put) && isFunction(axios.post) && isFunction(axios.delete) && isFunction(axios.options) && isFunction(axios.head) && isFunction(axios.patch) && isFunction(axios.request);\n}\n\nfunction isNativeFlavor(opts) {\n  return isBoolean(opts) ? opts : isPlainObject(opts) && isBoolean(opts.native) ? opts.native : getDefaults('behavior') === 'native';\n}\n\n\n\nfunction getBridge(flag, ref) {\n  return getPrivate('bridge.' + flag + '.' + ref);\n}\n\nfunction resolveBridge(ref, isNativeFirst) {\n  if (!isString(ref)) {\n    return;\n  }\n\n  var handler = void 0;\n\n  if (isNativeFirst) {\n    var envs = getPrivate('env');\n\n    eachItem(keys(getPrivate('bridge')), function (k) {\n      if (k !== 'fallback' && envs[k] === true) {\n        handler = getBridge(k, ref);\n\n        return false;\n      }\n    });\n  }\n\n  if (!isFunction(handler)) {\n    handler = getBridge('fallback', ref);\n  }\n\n  return handler;\n}\n\nfunction invoke(ref, opts) {\n  var handler = resolveBridge(ref, isNativeFlavor(opts));\n\n  if (!isFunction(handler)) {\n    return false;\n  }\n\n  for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    rest[_key - 2] = arguments[_key];\n  }\n\n  return handler.apply(null, [].concat(opts, rest));\n}\n\nvar HTTP_DEFAULTS = {\n\n  baseURL: '',\n\n  serverErrorText: '服务器开小差啦～',\n\n  jsonify: function jsonify(params) {\n    return params;\n  },\n\n  isRestful: function isRestful(res) {\n    return !(res !== undefined && hasOwnProp('success', res) && (hasOwnProp('message', res) || hasOwnProp('errorMsg', res)));\n  },\n\n  errorHandler: function errorHandler(res) {\n    var code = res.status;\n\n    if (code >= 500) {\n      invoke('notice.alert', getDefaults('http.serverErrorText'));\n    } else if (code >= 400) {\n      var resText = res.responseText;\n      var resJson = void 0;\n\n      if (hasOwnProp('responseJSON', res)) {\n        resJson = res.responseJSON;\n      } else {\n        try {\n          resJson = JSON.parse(resText);\n        } catch (err) {\n          resJson = null;\n        }\n      }\n\n      if (isPlainObject(resJson) && (hasOwnProp('message', resJson) || hasOwnProp('errorMsg', resJson))) {\n        resText = hasOwnProp('message', resJson) ? resJson.message : resJson.errorMsg;\n      }\n\n      invoke('notice.alert', resText);\n    }\n  },\n\n  responseHandler: function responseHandler(res, callback) {\n    var hasCallback = isFunction(callback);\n\n    if (getDefaults('http.isRestful')(res)) {\n      if (isString(res) && res !== '') {\n        invoke('notice.alert', res);\n      } else if (hasCallback) {\n        callback.call(null, res);\n      }\n    }\n\n    else {\n        if (!res.success) {\n          invoke('notice.alert', hasOwnProp('message', res) ? res.message : res.errorMsg);\n        } else if (hasCallback) {\n          callback.call(null, res.data);\n        }\n      }\n  },\n\n  completeHandler: function completeHandler() {}\n};\n\nsetDefaults('http', HTTP_DEFAULTS);\n\nvar requestSender = void 0;\n\nfunction resolveRequestSender() {\n  return supportJquery() && jQuery.support.ajax && isFunction(jQuery.ajax) ? 'jquery' : supportAxios() ? 'axios' : null;\n}\n\nfunction resolveResponseResult(res, callback) {\n  var handler = getDefaults('http.responseHandler');\n\n  if (!isFunction(handler)) {\n    return;\n  }\n\n  return handler(res, callback);\n}\n\nfunction sendRequestViaJquery(opts) {\n  var httpDefaults = getDefaults('http');\n  var params = httpDefaults.jsonify(opts.params);\n  var url = opts.url,\n      method = opts.method,\n      callback = opts.callback;\n\n  var resolved = { url: url, method: method, type: method, global: false };\n\n  if (opts.isJson === true) {\n    resolved.data = JSON.stringify(params);\n    resolved.contentType = 'application/json; charset=UTF-8';\n  } else if (!includes(method, ['get', 'delete'])) {\n    resolved.data = params;\n  } else if (isPlainObject(params) && keys(params).length) {\n    resolved.url += '?' + map(keys(params), function (k) {\n      return k + '=' + encodeURIComponent(params[k]);\n    }).join('&');\n  }\n\n  var req = window.jQuery.ajax(resolved);\n\n  if (opts.global !== false) {\n    req.always(function () {\n      return httpDefaults.completeHandler();\n    }).done(function (res) {\n      resolveResponseResult(res, function (result) {\n        if (isFunction(callback)) {\n          callback.call(null, result, res);\n        }\n      });\n    }).fail(function (jqXHR) {\n      return httpDefaults.errorHandler(jqXHR);\n    });\n  }\n\n  return req;\n}\n\nfunction sendRequestViaAxios(opts) {\n  return window.axios(opts);\n}\n\nfunction sendHttpRequest(opts) {\n  if (!isFunction(requestSender)) {\n    requestSender = resolveRequestSender();\n  }\n\n  var resolved = extendTarget({\n    url: '',\n    method: 'get',\n    params: null,\n    callback: null,\n    isJson: false\n  }, opts);\n\n  if (!/^http(s)?\\:\\/\\//.test(resolved.url)) {\n    resolved.url = getDefaults('http.baseURL') + resolved.url;\n  }\n\n  return requestSender === 'jquery' ? sendRequestViaJquery(resolved) : requestSender === 'axios' ? sendRequestViaAxios(resolved) : null;\n}\n\nfunction generateHttpUtil(method) {\n  return function (url, params, callback, isJson) {\n    var global = void 0;\n\n    if (isPlainObject(url)) {\n      var opts = url;\n\n      url = opts.url;\n      params = opts.data;\n      callback = opts.callback;\n      isJson = opts.isJson;\n      global = opts.global;\n    }\n\n    else if (isFunction(params)) {\n        isJson = callback;\n        callback = params;\n        params = {};\n      }\n\n      else if (isPlainObject(callback)) {\n          isJson = callback.isJson;\n          callback = callback.callback;\n          global = callback.global;\n        }\n\n        else if (isPlainObject(isJson)) {\n            isJson = isJson.isJson;\n            global = isJson.global;\n          }\n\n    return sendHttpRequest({ url: url, method: method, params: params, callback: callback, isJson: isJson, global: global });\n  };\n}\n\nvar httpGetUtil = generateHttpUtil('get');\nvar httpPostUtil = generateHttpUtil('post');\nvar httpPutUtil = generateHttpUtil('put');\nvar httpDeleteUtil = generateHttpUtil('delete');\n\n\n\nvar http = Object.freeze({\n\tget: httpGetUtil,\n\tpost: httpPostUtil,\n\tput: httpPutUtil,\n\tdelete: httpDeleteUtil\n});\n\nfunction supportWebSocket() {\n  return hasOwnProp('WebSocket', window);\n}\n\nfunction isUrl(target) {\n  return (/^((http(s)?\\:)?\\/\\/|\\/[^\\/]+).+/i.test(target)\n  );\n}\n\nvar FORM_DEFAULTS = {\n  filter: function filter(data, $field, arr) {\n    return true;\n  },\n  serializer: function serializer(arr) {\n    return arr;\n  }\n};\n\nsetDefaults('form', FORM_DEFAULTS);\n\nfunction isQueryStr(str) {\n  return isString(str) && str.split('&').length > 0 && str.split('&')[0].split('=').length > 0;\n}\n\nfunction queryStr2SerializedArr(str) {\n  return map(str.split('&'), function (pair) {\n    var p = pair.split('=');\n\n    return {\n      name: p[0],\n      value: decodeURIComponent(p[1])\n    };\n  });\n}\n\nfunction jsonifyFormData($form, callback) {\n  var jsonData = {};\n\n  eachItem(isArray($form) ? $form : isQueryStr($form) ? queryStr2SerializedArr($form) : $($form).serializeArray(), function (p) {\n    jsonData[p.name] = hasOwnProp(p.name, jsonData) ? [].concat(jsonData[p.name], p.value) : p.value;\n  });\n\n  if (isFunction(callback)) {\n    var newJson = callback(jsonData);\n\n    if (isPlainObject(newJson)) {\n      jsonData = newJson;\n    }\n  }\n\n  return jsonData;\n}\n\nvar HTTP_DEFAULTS$1 = {\n  RESTful: true,\n  waitingText: '数据保存中，请耐心等待...',\n  jsonify: function jsonify$$1(params) {\n    return isPlainObject(params) || isArray(params) ? params : jsonifyFormData(params);\n  },\n  completeHandler: function completeHandler() {\n    $('.modal:visible .js-waitForResult:visible').each(function () {\n      var $layer = $(this);\n      var $modal = $layer.closest('.modal');\n\n      $layer.hide();\n      $modal.removeClass('is-waiting');\n      $('button', $('.modal-header, .modal-footer', $modal)).prop('disabled', false);\n    });\n  }\n};\n\nsetDefaults('http', HTTP_DEFAULTS$1);\n\nfunction waitingForResponse($target) {\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getDefaults('http.waitingText');\n\n  var $dlg = $target.closest('.modal');\n\n  if ($dlg.length) {\n    $dlg.addClass('is-waiting');\n\n    if ($('.js-waitForResult', $dlg).length) {\n      $('.js-waitForResult', $dlg).show();\n    } else {\n      $('.modal-content', $dlg).append('<div class=\"Layer Layer--loading js-waitForResult\"><p>' + text + '</p></div>');\n    }\n\n    $('button', $('.modal-header, .modal-footer', $dlg)).prop('disabled', true);\n  }\n}\n\nfunction generateHttpUtil$1(method) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = last(args);\n\n    if (isPlainObject(opts) && opts.$waiting) {\n      waitingForResponse(opts.$waiting, opts.waitingText);\n    }\n\n    return http[method].apply(http, args);\n  };\n}\n\nvar httpGetUtil$1 = generateHttpUtil$1('get');\nvar httpPostUtil$1 = generateHttpUtil$1('post');\nvar httpPutUtil$1 = generateHttpUtil$1('put');\nvar httpDeleteUtil$1 = generateHttpUtil$1('delete');\n\nvar result = function result() {\n  return getDefaults('http.responseHandler').apply(undefined, arguments);\n};\n\nvar http$1 = Object.freeze({\n\tget: httpGetUtil$1,\n\tpost: httpPostUtil$1,\n\tput: httpPutUtil$1,\n\tdelete: httpDeleteUtil$1,\n\twaiting: waitingForResponse,\n\tresult: result\n});\n\nfunction resolveSocketUrl(url) {\n  var isNoProtocol = url.indexOf('//') === 0;\n\n  if (location.hostname === 'localhost') {\n    url = isNoProtocol ? 'ws:' + url : url.replace(/^ws(s)?\\:\\/\\//, 'ws\\:\\/\\/');\n  }\n\n  else if (isNoProtocol) {\n      url = 'wss:' + url;\n    }\n\n  return url;\n}\n\nfunction keepSocketAlive(ws, interval) {\n  setTimeout(function () {\n    ws.send('使 WebSocket 连接保持活跃');\n    keepSocketAlive(ws, interval);\n  }, interval);\n}\n\nfunction init(opts) {\n  if (isString(opts)) {\n    opts = { url: opts };\n  }\n\n  if (!(supportWebSocket() && isPlainObject(opts) && hasOwnProp('url', opts))) {\n    return;\n  }\n\n  var ws = new WebSocket(resolveSocketUrl(opts.url));\n\n  if (opts.closeBeforeUnload !== false) {\n    window.addEventListener('beforeunload', function () {\n      ws.close();\n    });\n  }\n\n  if (isNumeric(opts.interval) && opts.interval * 1 > 0) {\n    ws.addEventListener('open', function () {\n      keepSocketAlive(ws, opts.interval);\n    });\n  }\n\n  eachItem(['open', 'close', 'message', 'error'], function (evtName) {\n    var handler = opts['on' + capitalize(evtName)];\n\n    if (isFunction(handler)) {\n      ws.addEventListener(evtName, handler);\n    }\n  });\n\n  return ws;\n}\n\n\n\nvar socket = Object.freeze({\n\tinit: init\n});\n\nfunction getMoveDigit(a, b) {\n  var _a = void 0,\n      _b = void 0,\n      la = void 0,\n      lb = void 0;\n\n  a = a.toString(10);\n  b = b.toString(10);\n\n  _a = a.split('.');\n  _b = b.split('.');\n\n  la = _a.length === 2 ? _a[1].length : 0;\n  lb = _b.length === 2 ? _b[1].length : 0;\n\n  return Math.max(la, lb);\n}\n\nfunction move2Right(num, digit) {\n  var str = void 0,\n      _num = void 0;\n\n  if (digit === 0) {\n    return num;\n  }\n\n  num = num.toString(10);\n  _num = num.split('.');\n  str = _num[1] ? _num[1] : '';\n  _num = _num[0];\n\n  for (var i = 0; i < digit; i++) {\n    _num += str[i] ? str[i] : '0';\n  }\n\n  return _num * 1;\n}\n\nfunction move2Left(num, digit) {\n  if (digit === 0) {\n    return num;\n  }\n\n  var arr = void 0,\n      len = void 0;\n\n  num = num.toString();\n  arr = num.split('.');\n\n  if (arr.length === 2) {\n    digit += arr[1].length;\n    num = num.replace('.', '');\n  }\n\n  arr = num.split('');\n  len = num.length;\n\n  for (var i = 0; i < digit - len; i++) {\n    arr.unshift('0');\n  }\n\n  arr.splice(arr.length - digit, 0, '.');\n\n  return arr.join('') * 1;\n}\n\nfunction plus(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) + move2Right(b, d), d);\n}\n\nfunction minus(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) - move2Right(b, d), d);\n}\n\nfunction multiply(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) * move2Right(b, d), d * 2);\n}\n\nfunction divided(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Right(a, d) / move2Right(b, d);\n}\n\n\n\nvar calc = Object.freeze({\n\tplus: plus,\n\tminus: minus,\n\tmultiply: multiply,\n\tdivided: divided\n});\n\nfunction filterUnchanged(data, raw, excluded) {\n  var filtered = {};\n\n  if (isPlainObject(data)) {\n    if (isPlainObject(raw)) {\n      if (!isArray(excluded)) {\n        excluded = [];\n      }\n\n      eachItem(data, function (k, v) {\n        if (excluded.length > 0 && includes(k, excluded) || v !== raw[k]) {\n          filtered[k] = v;\n        }\n      });\n    } else {\n      filtered = data;\n    }\n  }\n\n  return filtered;\n}\n\n\n\nvar data = Object.freeze({\n\tchanged: filterUnchanged\n});\n\nvar STORAGE_KEY = {\n  IMAGE_ITEM_MAX: \"handie.imageItemMax\"\n};\n\nfunction createTemporaryLinkElement(url) {\n  var el = document.createElement('a');\n\n  el.setAttribute('href', url);\n\n  return el;\n}\n\nfunction sliceUrlPart(part, url) {\n  if (!isString(url) || !isUrl(url) && url.indexOf('URL_PLACEHOLDER') === -1) {\n    url = window.location.href;\n  }\n\n  var result = createTemporaryLinkElement(url)[part];\n\n  return includes(part, ['hash', 'search']) ? result.slice(1) : result;\n}\n\nfunction resolveFileExtension(url) {\n  var segments = sliceUrlPart('pathname', url).split('\\/');\n  var length = segments.length;\n\n  var fileName = segments[length - 1];\n\n  if (fileName === '') {\n    fileName = segments[length - 2];\n  }\n\n  var ext = fileName.match(/\\.([^\\.]+)$/);\n\n  return ext ? ext[1].toUpperCase() : '';\n}\n\nfunction jsonifyQueryString(str) {\n  var jsonData = {};\n\n  eachItem(str.split('&'), function (pair) {\n    pair = pair.split('=');\n    jsonData[pair[0]] = decodeURIComponent(pair[1]);\n  });\n\n  return jsonData;\n}\n\nvar builtInActions = {\n  edit: {\n    text: '编辑',\n    icon: 'edit'\n  },\n  delete: {\n    text: '删除',\n    action: 'delete',\n    icon: 'trash'\n  },\n  disable: {\n    text: '禁用',\n    icon: 'pause'\n  },\n  enable: {\n    text: '启用',\n    icon: 'play'\n  }\n};\n\nfunction resolveDefaultTriggerOptions() {\n  return extendTarget(true, {}, builtInActions, getDefaults('generator.actions'));\n}\n\nfunction resolveTriggerOptionsSimply(opts) {\n  if (isString(opts) && hasOwnProp(opts, resolveDefaultTriggerOptions())) {\n    opts = { action: opts };\n  }\n\n  return opts;\n}\n\nfunction resolveTriggerOptions(opts) {\n  var defaultActionOpts = resolveDefaultTriggerOptions();\n  var action = opts.isDelete === true ? 'delete' : opts.action;\n\n  if (hasOwnProp(action, defaultActionOpts)) {\n    var defaultOpts = defaultActionOpts[action];\n\n    eachItem(keys(defaultOpts), function (k) {\n      if (!hasOwnProp(k, opts)) {\n        opts[k] = defaultOpts[k];\n      }\n    });\n  }\n\n  return opts;\n}\n\nfunction generateMainTrigger(opts) {\n  var triggerCls = [].concat(opts.btnCls);\n  var attrs = [];\n\n  var tagName = void 0;\n\n  if (isString(opts.action)) {\n    triggerCls.push('js-' + opts.action);\n  }\n\n  if (isString(opts.url)) {\n    tagName = 'a';\n\n    attrs.push('href=\"' + opts.url + '\"');\n\n    if (opts.isExternal === true) {\n      attrs.push('target=\"_blank\"');\n    }\n  } else {\n    tagName = 'button';\n\n    attrs.push('type=\"button\"');\n\n    if (opts.disabled === true) {\n      attrs.push('disabled');\n    }\n  }\n\n  if (opts.hasChildren && opts.isSplit !== true) {\n    triggerCls.push('dropdown-toggle');\n    attrs.push('data-toggle=\"dropdown\"');\n  }\n\n  attrs.push('class=\"' + triggerCls.join(' ') + '\"', 'title=\"' + (opts.tooltip || opts.text) + '\"');\n\n  var html = ['<' + tagName + ' ' + attrs.concat(opts.btnAttrs).join(' ') + '>'];\n\n  if (isString(opts.icon)) {\n    var iconCls = ['Operation-icon', 'fa', 'fa-' + opts.icon];\n\n    if (opts.fixedWidth !== false) {\n      iconCls.push('fa-fw');\n    }\n\n    html.push('<i class=\"' + iconCls.join(\" \") + '\"></i><span class=\"' + (opts.isCoexisted === true ? 'Operation-label' : 'sr-only') + '\">' + opts.text + '</span>');\n  } else {\n    html.push(opts.text);\n  }\n\n  if (opts.hasChildren && opts.isSplit !== true) {\n    html.push('<span class=\"caret\"></span>');\n  }\n\n  html.push('</' + tagName + '>');\n\n  return html.join('');\n}\n\nfunction generateSubItem(item) {\n  var content = void 0;\n\n  if (isString(item)) {\n    content = item;\n  } else if (isPlainObject(item)) {\n    item = resolveTriggerOptions(item);\n\n    if (hasOwnProp('html', item)) {\n      content = item.html;\n    } else {\n      content = '<a class=\"js-' + item.action + '\" href=\"' + (isString(item.url) ? item.url : 'javascript:void(0);') + '\"' + (item.isExternal === true ? 'target=\"_blank\"' : '') + '>' + item.text + '</a>';\n    }\n  }\n\n  return '<li>' + (content || '') + '</li>';\n}\n\nfunction generateDropdownMenu(opts) {\n  var html = [];\n\n  if (opts.isSplit === true) {\n    html.push('<button type=\"button\" class=\"' + opts.btnCls.concat('dropdown-toggle').join(' ') + '\" data-toggle=\"dropdown\"', opts.disabled === true ? ' disabled' : '', '><span class=\"caret\"></span></button>');\n  }\n\n  html.push('<ul class=\"Operation-menu dropdown-menu', opts.align === 'right' ? ' dropdown-menu-right' : '', '\">');\n\n  html.push(map(opts.actions, function (child, idx) {\n    var isGrouped = isArray(child);\n\n    var items = !isGrouped ? generateSubItem(child) : map(child, function (groupedChild) {\n      return generateSubItem(groupedChild);\n    }).join('');\n\n    if (idx > 0 && isGrouped) {\n      items = '<li class=\"divider\"></li>' + items;\n    }\n\n    return items;\n  }).join(''));\n\n  html.push('</ul>');\n\n  return html.join('');\n}\n\nfunction constructActionButton(opts, settings) {\n  opts = resolveTriggerOptionsSimply(opts);\n\n  if (!isPlainObject(opts)) {\n    return '';\n  }\n\n  extendTarget(opts, settings);\n\n  var html = [];\n  var size = opts.size || 'xs';\n  var hasChildren = hasOwnProp('actions', opts) && isArray(opts.actions);\n\n  var btnCls = clone(opts.classes);\n\n  if (isString(btnCls)) {\n    btnCls = btnCls.split(' ');\n  } else if (!isArray(btnCls)) {\n    btnCls = [];\n  }\n\n  btnCls = ['Operation', 'btn', 'btn-' + (opts.isPrimary === true ? 'primary' : opts.isDelete === true ? 'danger' : 'default'), 'btn-' + size].concat(btnCls);\n\n  var btnAttrs = clone(opts.attributes);\n\n  if (isPlainObject(btnAttrs)) {\n    var attrs = [];\n\n    eachItem(btnAttrs, function (v, k) {\n      attrs.push(k + '=' + v);\n    });\n\n    btnAttrs = attrs;\n  } else if (isString(btnAttrs)) {\n    btnAttrs = btnAttrs.split(' ');\n  } else if (!isArray(btnAttrs)) {\n    btnAttrs = [];\n  }\n\n  html.push(generateMainTrigger(extendTarget({}, resolveTriggerOptions(opts), {\n    btnCls: btnCls.concat(isString(opts.buttonClass) ? opts.buttonClass : []),\n    btnAttrs: btnAttrs,\n    hasChildren: hasChildren\n  })));\n\n  if (hasChildren) {\n    html.unshift('<div class=\"btn-group btn-group-' + size + '\">');\n    html.push(generateDropdownMenu(extendTarget({}, opts, { btnCls: btnCls })), '</div>');\n  }\n\n  return html.join('');\n}\n\nfunction isImageItemOverflow($btn, limit) {\n  return $('.ImageItem:not(.ImageItem--add)', $btn.closest('.ImageList').parent()).length >= limit;\n}\n\nvar GENERATOR_DEFAULTS = {\n  imageColumnCount: 3,\n  actions: {}\n};\n\nsetDefaults('generator', GENERATOR_DEFAULTS);\n\nfunction generateImageItem(url, alt, removable) {\n  var html = [];\n\n  alt = alt || '';\n\n  var ext = void 0;\n\n  if (url && isString(url)) {\n    ext = resolveFileExtension(url);\n  }\n\n  html.push('<figure class=\"ImageItem');\n\n  if (url && ext && !includes(ext.toLowerCase(), getDefaults('uploader.extension.image').split(','))) {\n    html.push(' is-nongraphic');\n  }\n\n  html.push('\"><div><a href=\"' + (url || 'javascript:void(0);') + '\" target=\"_blank\" data-file-ext=\"' + ext + '\"><img src=\"' + (url || '') + '\" alt=\"' + alt + '\" title=\"' + alt + '\"></a></div>');\n\n  if (alt) {\n    html.push('<figcaption class=\"u-textTruncate\" title=\"' + alt + '\">' + alt + '</figcaption>');\n  }\n\n  if (removable === true) {\n    html.push('<button type=\"button\" class=\"ImageItem-button fa fa-close js-removeUploadedImage\" title=\"删除\"><span class=\"sr-only\"></span></button>');\n  }\n\n  html.push(\"</figure>\");\n\n  return html.join('');\n}\n\nfunction insertImageItem(opts) {\n  var $btn = $(opts.$btn);\n  var maxCount = opts.max;\n\n  if (!$btn.is('.ImageItem') || maxCount && isImageItemOverflow($btn, maxCount)) {\n    return;\n  }\n\n  var columnCount = Number(opts.column);\n\n  if (isNaN(columnCount) || columnCount <= 0) {\n    columnCount = getDefaults('generator.imageColumnCount');\n  }\n\n  var listCls = 'ImageList';\n  var itemCls = 'ImageList-item';\n\n  var $btnCol = opts.$btn.closest('.' + itemCls);\n  var $newCol = $('<div class=\"' + itemCls + ' col-sm-' + 12 / columnCount + ' is-dynamic\" />');\n\n  $newCol.html(generateImageItem(opts.url, opts.text, opts.removable));\n  $btnCol.before($newCol);\n\n  if (isFunction(opts.callback)) {\n    opts.callback.call(null, $newCol, $btnCol);\n  }\n\n  var imageItemSize = $btnCol.siblings('.' + itemCls).length;\n\n  if (imageItemSize === columnCount) {\n    $('.' + listCls + ':last', opts.$el).after('<div class=\"' + listCls + ' row\" />');\n    $('.' + listCls + ':last', opts.$el).append($btnCol);\n  }\n\n  if (maxCount) {\n    var $btnRow = $btnCol.closest('.' + listCls);\n    var hiddenCls = 'u-hidden';\n\n    $btn.data(STORAGE_KEY.IMAGE_ITEM_MAX, maxCount);\n\n    $('.' + listCls + '.' + hiddenCls + ', .' + itemCls + '.' + hiddenCls, $btnRow.parent()).removeClass(hiddenCls);\n\n    if (isImageItemOverflow($btnRow, maxCount)) {\n      $btnCol.addClass(hiddenCls);\n\n      if (imageItemSize === 0) {\n        $btnRow.addClass(hiddenCls);\n      }\n    }\n  }\n\n  return $newCol;\n}\n\nfunction action(actions, wrapped) {\n  actions = resolveTriggerOptionsSimply(actions);\n\n  if (isPlainObject(actions)) {\n    actions = [actions];\n  }\n\n  actions = actions.concat(getDefaults('table.rowActions'));\n\n  if (!isArray(actions)) {\n    return false;\n  }\n\n  var html = map(actions, function (a) {\n    return constructActionButton(a, { align: 'right' });\n  });\n\n  if (actions.length > 1 || wrapped === true) {\n    html.unshift('<div class=\"OperationGroup\">');\n    html.push('</div>');\n  }\n\n  return html.join('');\n}\n\nfunction option() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var extra = arguments[2];\n  var selected = arguments[3];\n\n  var attrs = ['class=\"is-dynamic\"', 'value=\"' + value + '\"'];\n\n  if (isPlainObject(extra)) {\n    eachItem(extra, function (v, k) {\n      return attrs.push('data-' + k + '=\"' + v + '\"');\n    });\n  } else {\n    selected = extra;\n  }\n\n  if (selected === true) {\n    attrs.push('selected');\n  }\n\n  return '<option ' + attrs.join(' ') + '>' + text + '</option>';\n}\n\n\n\nvar generate = Object.freeze({\n\taction: action,\n\toption: option,\n\timage: generateImageItem,\n\timageItem: insertImageItem\n});\n\nfunction generateUrlUtil(part) {\n  return function (url) {\n    return sliceUrlPart(part, url);\n  };\n}\n\nvar urlSearchUtil = generateUrlUtil('search');\n\nvar href = generateUrlUtil('href');\n\nvar protocol = generateUrlUtil('protocol');\n\nvar host = generateUrlUtil('host');\n\nvar hostname = generateUrlUtil('hostname');\n\nvar port = generateUrlUtil('port');\n\nvar pathname = generateUrlUtil('pathname');\n\nvar hash = generateUrlUtil('hash');\n\nvar username = generateUrlUtil('username');\n\nvar password = generateUrlUtil('password');\n\nvar origin = generateUrlUtil('origin');\n\nfunction query(url, key) {\n  var defaultUrl = window.location.href;\n  var length = arguments.length;\n\n  if (length === 1 && isString(url) && url.indexOf('http') === -1) {\n    key = url;\n    url = defaultUrl;\n  }\n\n  if (!isString(url)) {\n    url = defaultUrl;\n  }\n\n  var jsonified = jsonifyQueryString(urlSearchUtil(url));\n\n  return key == null ? jsonified : jsonified[key];\n}\n\n\n\nvar url = Object.freeze({\n\thref: href,\n\tprotocol: protocol,\n\thost: host,\n\thostname: hostname,\n\tport: port,\n\tpathname: pathname,\n\thash: hash,\n\tusername: username,\n\tpassword: password,\n\torigin: origin,\n\tquery: query,\n\tsearch: urlSearchUtil\n});\n\nfunction copyText(content) {\n  var ipt = document.createElement('input');\n\n  ipt.setAttribute('value', content);\n  document.body.appendChild(ipt);\n  ipt.select();\n  document.execCommand('copy');\n  document.body.removeChild(ipt);\n\n  return content;\n}\n\nfunction copy(content, keepSelected) {\n  var $el = void 0;\n\n  if (!isString(content)) {\n    $el = $(content);\n\n    var el = $el.get(0);\n\n    if (el == null || el.nodeType !== 1) {\n      return;\n    }\n\n    if (includes(el.tagName.toLowerCase(), ['input', 'textarea'])) {\n      content = $el.val();\n    } else {\n      content = $el.text();\n    }\n  }\n\n  copyText(content);\n\n  if ($el && keepSelected === true) {\n    $el.select();\n  }\n\n  return content;\n}\n\n\n\nvar text = Object.freeze({\n\tcopy: copy\n});\n\nfunction resolveAlias(key) {\n  return key === 'ajax' ? 'http' : key;\n}\n\nfunction setDefaults$1(settings) {\n  if (isPlainObject(settings)) {\n    eachItem(settings, function (v, k) {\n      return setDefaults(resolveAlias(k), v);\n    });\n  }\n}\n\nwindow.handie = {\n  setDefaults: setDefaults$1, set: setBizData, get: getBizData,\n  http: http$1, socket: socket,\n  generate: generate, text: text, calc: calc,\n  data: data, url: url,\n\n  ajax: http$1,\n  calculate: calc\n};\n\n})));\n"]}
{"version":3,"sources":["utils-lite.js"],"names":["global","factory","exports","module","define","amd","this","toString","target","Object","prototype","call","hasOwnProp","prop","obj","hasOwnProperty","_typeof","Symbol","iterator","constructor","_typeof$1","isBoolean","isString","isFunction","isArray","isLooseObject","isGlobal","isArrayLike","result","length","nodeType","isNaN","isPlainObject","err","key","undefined","treatAsArray","eachItem","callback","idx","ele","charAt","apply","name","value","extendTarget","args","arguments","i","deep","clone","copy","copyIsArray","opts","src","toArray$1","slice","includes","collection","indexOf","jQuery","inArray","map","keys","arr","push","concat","APP_DEFAULTS","theme","color","behavior","flexible","PRIVATE_DATA","BIZ_DATA","resolveRefKeys","ref","RegExp","test","split","saveData","storage","val","merge","refKeys","lastKey","pop","tmp","k","retrieveData","keyLength","setDefaults","_len","Array","_key","getDefaults","_len2","_key2","getPrivate","_len4","_key4","getBridge","flag","invoke","handler","isNativeFirst","envs","resolveBridge","native","rest","serverErrorText","jsonify","params","isRestful","res","errorHandler","code","status","resText","responseText","resJson","responseJSON","JSON","parse","message","responseHandler","hasCallback","success","data","completeHandler","requestSender","resolveRequestSender","ready","support","fn","ajax","axios","get","put","post","delete","options","head","patch","request","sendRequestViaJquery","httpDefaults","url","method","resolved","type","isJson","stringify","contentType","encodeURIComponent","join","req","window","always","done","resolveResponseResult","fail","jqXHR","sendHttpRequest","generateHttpUtil","httpGetUtil","httpPostUtil","httpPutUtil","httpDeleteUtil","http","freeze","jsonifyFormData","$form","str","jsonData","pair","p","decodeURIComponent","$","serializeArray","newJson","waitingForResponse","$target","text","$dlg","closest","addClass","show","append","generateHttpUtil$1","last","$waiting","waitingText","filter","$field","serializer","RESTful","each","$layer","$modal","hide","removeClass","httpGetUtil$1","httpPostUtil$1","httpPutUtil$1","httpDeleteUtil$1","http$1","waiting","socket","init","isNoProtocol","realStringObj","ws","WebSocket","location","hostname","replace","closeBeforeUnload","addEventListener","close","interval","parseFloat","keepSocketAlive","setTimeout","send","evtName","toUpperCase","getMoveDigit","a","b","_a","_b","la","lb","Math","max","move2Right","num","digit","_num","move2Left","len","unshift","splice","calc","plus","d","minus","multiply","divided","changed","raw","excluded","filtered","v","STORAGE_KEY","sliceUrlPart","part","href","el","document","createElement","setAttribute","builtInActions","edit","icon","action","disable","enable","resolveDefaultTriggerOptions","resolveTriggerOptionsSimply","resolveTriggerOptions","defaultActionOpts","isDelete","defaultOpts","generateSubItem","item","content","html","isExternal","constructActionButton","settings","size","hasChildren","actions","btnCls","classes","isPrimary","btnAttrs","attributes","attrs","triggerCls","tagName","disabled","isSplit","tooltip","iconCls","fixedWidth","isCoexisted","generateMainTrigger","buttonClass","align","child","isGrouped","items","groupedChild","isImageItemOverflow","$btn","limit","parent","generateImageItem","alt","removable","ext","segments","fileName","match","resolveFileExtension","toLowerCase","imageColumnCount","generate","wrapped","option","extra","selected","image","imageItem","maxCount","is","columnCount","Number","column","listCls","itemCls","$btnCol","$newCol","before","imageItemSize","siblings","$el","after","$btnRow","hiddenCls","generateUrlUtil","urlSearchUtil","protocol","host","port","pathname","hash","username","password","origin","query","defaultUrl","jsonified","search","keepSelected","ipt","body","appendChild","select","execCommand","removeChild","handie","set","_len5","_key5","_len6","_key6","alert","calculate"],"mappings":"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","file":"../javascripts/utils-lite.min.js","sourcesContent":["/*!\n * Handie-jquery v1.0.1\n * 为前端开发提供统一的布局、组件和工具方法\n * https://github.com/ourai/handie\n *\n * Copyright 2017, Ourai Lin <ourairyu@gmail.com> (http://ourai.ws/)\n * Released under the MIT license.\n *\n * 00000000000000000000000000000000000000000000000000\n * 000000000000000000000GCft1tf1tLC000000000000000000\n * 00000000000000000LLf1i1i;t1t11i1itL000000000000000\n * 000000000000000Cf111t1;ttf1tt1if11;tfC000000000000\n * 0000000000000Ciiif11;11111iitf1f1ffftitL0000000000\n * 000000000000Ci1ti11i;1i11ti1i1;i1iit1iitG000000000\n * 000000000000t;iii1i1;11tt;1ii;1iiii11ti1G000000000\n * 0000000000Gf1i:;;ii;;;;1;i:1it;11i1tti:f8000000000\n * 00000000008ti;:;ii1tfti;;;1;ii1ii:11iiCG0000000000\n * 00000000000Git;f1f1fif1;i1t:;i;1:i;:;;800000000000\n * 00000000000C:1f;t;tt11;:tfC1:tt1;i::;:G00000000000\n * 000000000008i;i1fti;:ittCfftf:i1;ti;;;180000000000\n * 0000000000008fft1ff1tittttLGL.Li1;;1;ii80000000000\n * 000000000000CfLG800Gft1tffLLLLftt1::i;;C0000000000\n * 000000000000Li00GCCGGGf1LLfCCfi1tt1;11;G0000000000\n * 0000000000000;G80080008t1CfLtt;iff1;1if00000000000\n * 0000000000008i1LLCftG08011ttt1ttfff:ii;00000000000\n * G000000000000CL11ttCtfftfi1i;ifi1;1iL;C00000000000\n * 00G0G000000000000GLtfCG8i;:;1i;1if1fLfC00000000000\n * GGGGGGGG0000000000000G;tt:ii;1ftCLffLt1G0000000000\n * GGGGGGGGGG00000000000i;;i;ittLftLtf1t;;;L000000000\n * GGGGGGGGGGGGGGGGGG00:i;;i11ifLftft;ii1tLif000000G0\n * GGGGGGGGGGGGGGGGGGG0Lt;t;f1tfi;;;:itGCCitt:1C00GGG\n * GGGGGGGGGGGGGGGGGGGGG0i11:1:i:;1tCCCCGiGiCi::f0GGG\n * GGGGGGGGGGGGGGGGGGGGGf;,i1;:tLCffCLCf,tCCi1fi,fGGG\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\nfunction toString(target) {\n  return Object.prototype.toString.call(target);\n}\n\nfunction hasOwnProp(prop, obj) {\n  return obj != null && Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nfunction capitalize(str) {\n  return \"\" + str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _typeof$1 = typeof Symbol === \"function\" && _typeof(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\nfunction isBoolean(target) {\n  return toString(target) === '[object Boolean]';\n}\n\nfunction isNumber(target) {\n  return toString(target) === '[object Number]' && !isNaN(target);\n}\n\nfunction isString(target) {\n  return toString(target) === '[object String]';\n}\n\nfunction isFunction(target) {\n  return toString(target) === '[object Function]';\n}\n\nfunction isArray(target) {\n  return toString(target) === '[object Array]';\n}\n\n\n\n\n\nfunction isObject(target) {\n  return toString(target) === '[object Object]';\n}\n\nfunction isLooseObject(target) {\n  return (typeof target === 'undefined' ? 'undefined' : _typeof$1(target)) === 'object';\n}\n\nfunction isNumeric(target) {\n  var realStringObj = target && target.toString();\n\n  return !isArray(target) && realStringObj - parseFloat(realStringObj) + 1 >= 0;\n}\n\nfunction isGlobal(target) {\n  return target && isLooseObject(target) && 'setInterval' in target;\n}\n\nfunction isArrayLike(target) {\n  var result = false;\n\n  if (isLooseObject(target) && !isGlobal(target)) {\n    var length = target.length;\n\n    if (target.nodeType === 1 && length || !isArray(target) && !isFunction(target) && (length === 0 || isNumber(length) && length > 0 && length - 1 in target)) {\n      result = true;\n    }\n  }\n\n  return result;\n}\n\nfunction isPlainObject(target) {\n  if (!target || !isLooseObject(target) || target.nodeType || isGlobal(target)) {\n    return false;\n  }\n\n  try {\n    if (target.constructor && !hasOwnProp('constructor', target) && !hasOwnProp('isPrototypeOf', target.constructor.prototype)) {\n      return false;\n    }\n  } catch (err) {\n    return false;\n  }\n\n  var key = void 0;\n\n  for (key in target) {\n    \n  }\n\n  return key === undefined || hasOwnProp(key, target);\n}\n\nfunction treatAsArray(target) {\n  return isString(target) || isArray(target) || isArrayLike(target);\n}\n\nfunction eachItem(target, callback) {\n  if (treatAsArray(target)) {\n    var idx = 0;\n    var ele = void 0;\n\n    while (idx < target.length) {\n      ele = isString(target) ? target.charAt(idx) : target[idx];\n\n      if (callback.apply(ele, [ele, idx++, target]) === false) {\n        break;\n      }\n    }\n  } else if (isObject(target) || isFunction(target)) {\n    var name = void 0,\n        value = void 0;\n\n    for (name in target) {\n      value = target[name];\n\n      if (callback.apply(value, [value, name, target]) === false) {\n        break;\n      }\n    }\n  }\n}\n\nfunction extendTarget() {\n  var args = arguments;\n  var length = args.length;\n\n  var target = args[0] || {};\n  var i = 1;\n  var deep = false;\n  var clone = void 0,\n      copy = void 0,\n      copyIsArray = void 0,\n      name = void 0,\n      opts = void 0,\n      src = void 0;\n\n  if (isBoolean(target)) {\n    deep = target;\n    target = args[1] || {};\n    i = 2;\n  }\n\n  if (!isLooseObject(target) && !isFunction(target)) {\n    target = {};\n  }\n\n  if (length === 1) {\n    target = this;\n    i--;\n  }\n\n  while (i < length) {\n    opts = args[i];\n\n    if (opts != null) {\n      for (name in opts) {\n        copy = opts[name];\n        src = target[name];\n\n        if (copy === target) {\n          continue;\n        }\n\n        if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n          if (copyIsArray) {\n            copyIsArray = false;\n            clone = src && isArray(src) ? src : [];\n          } else {\n            clone = src && isPlainObject(src) ? src : {};\n          }\n\n          target[name] = extendTarget(deep, clone, copy);\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n\n    i++;\n  }\n\n  return target;\n}\n\nfunction toArray$1(target) {\n  return treatAsArray(target) ? [].slice.call(target, 0) : [];\n}\n\nfunction includes(target, collection) {\n  if (isFunction(collection.includes)) {\n    return collection.includes(target);\n  } else if (isFunction(collection.indexOf)) {\n    return collection.indexOf(target) > -1;\n  } else {\n    try {\n      return jQuery.inArray(target, toArray$1(collection)) > -1;\n    } catch (err) {\n      return false;\n    }\n  }\n}\n\nfunction map(target, callback) {\n  var result = void 0;\n\n  if (treatAsArray(target)) {\n    if (isFunction([].map)) {\n      result = [].map.call(target, callback);\n    } else {\n      try {\n        result = jQuery.map(toArray$1(target), callback);\n      } catch (err) {\n        result = [];\n      }\n    }\n  }\n\n  return result || [];\n}\n\n\n\nfunction last(target) {\n  if (treatAsArray(target)) {\n    return target[target.length - 1];\n  }\n}\n\nfunction keys(target) {\n  if (isFunction(Object.keys)) {\n    return Object.keys(target);\n  }\n\n  var arr = [];\n\n  if (isPlainObject(target)) {\n    eachItem(target, function (key) {\n      return arr.push(key);\n    });\n  }\n\n  return arr;\n}\n\nfunction clone(target) {\n  return isArray(target) ? [].concat(target) : isPlainObject(target) ? extendTarget(true, {}, target) : target;\n}\n\nvar APP_DEFAULTS = {\n  theme: {\n    color: '#ff8903'\n  },\n  behavior: 'native',\n  flexible: false\n};\n\nvar PRIVATE_DATA = {};\nvar BIZ_DATA = {};\n\nfunction resolveRefKeys(ref) {\n  return isString(ref) && new RegExp('^[0-9a-z_]+(\\.[0-9a-z_]+)*$', 'i').test(ref) ? ref.split('.') : [];\n}\n\nfunction saveData(storage, ref, val) {\n  var merge = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var refKeys = resolveRefKeys(ref);\n\n  if (arguments.length < 3 || refKeys.length === 0) {\n    return;\n  }\n\n  var lastKey = refKeys.pop();\n\n  var tmp = storage;\n\n  eachItem(refKeys, function (k) {\n    if (!hasOwnProp(k, tmp)) {\n      tmp[k] = {};\n    }\n\n    tmp = tmp[k];\n  });\n\n  if (merge === true && isPlainObject(tmp[lastKey]) && isPlainObject(val)) {\n    extendTarget(true, tmp[lastKey], val);\n  } else {\n    tmp[lastKey] = val;\n  }\n\n  return val;\n}\n\nfunction retrieveData(storage, ref) {\n  var refKeys = resolveRefKeys(ref);\n  var keyLength = refKeys.length;\n\n  if (keyLength === 0) {\n    return;\n  }\n\n  var idx = 0;\n  var tmp = clone(storage);\n  var val = void 0,\n      k = void 0;\n\n  for (; idx < keyLength; idx++) {\n    k = refKeys[idx];\n    val = tmp[k];\n\n    if (!hasOwnProp(k, tmp)) {\n      break;\n    }\n\n    tmp = val;\n  }\n\n  return val;\n}\n\nfunction setDefaults() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return saveData.apply(undefined, [APP_DEFAULTS].concat(args, [true]));\n}\n\nfunction getDefaults() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return retrieveData.apply(undefined, [APP_DEFAULTS].concat(args));\n}\n\n\n\nfunction getPrivate() {\n  for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  return retrieveData.apply(undefined, [PRIVATE_DATA].concat(args));\n}\n\nfunction setBizData() {\n  for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  return saveData.apply(undefined, [BIZ_DATA].concat(args));\n}\n\nfunction getBizData() {\n  for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  return retrieveData.apply(undefined, [BIZ_DATA].concat(args));\n}\n\nfunction supportJquery() {\n  return isFunction(jQuery) && isFunction(jQuery.ready) && isPlainObject(jQuery.support) && isPlainObject(jQuery.fn);\n}\n\nfunction supportAxios() {\n  return isFunction(axios) && isFunction(axios.get) && isFunction(axios.put) && isFunction(axios.post) && isFunction(axios.delete) && isFunction(axios.options) && isFunction(axios.head) && isFunction(axios.patch) && isFunction(axios.request);\n}\n\nfunction isNativeFlavor(opts) {\n  return isBoolean(opts) ? opts : isPlainObject(opts) && isBoolean(opts.native) ? opts.native : getDefaults('behavior') === 'native';\n}\n\n\n\nfunction getBridge(flag, ref) {\n  return getPrivate('bridge.' + flag + '.' + ref);\n}\n\nfunction resolveBridge(ref, isNativeFirst) {\n  if (!isString(ref)) {\n    return;\n  }\n\n  var handler = void 0;\n\n  if (isNativeFirst) {\n    var envs = getPrivate('env');\n\n    eachItem(keys(getPrivate('bridge')), function (k) {\n      if (k !== 'fallback' && envs[k] === true) {\n        handler = getBridge(k, ref);\n\n        return false;\n      }\n    });\n  }\n\n  if (!isFunction(handler)) {\n    handler = getBridge('fallback', ref);\n  }\n\n  return handler;\n}\n\nfunction invoke(ref, opts) {\n  var handler = resolveBridge(ref, isNativeFlavor(opts));\n\n  if (!isFunction(handler)) {\n    return false;\n  }\n\n  for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    rest[_key - 2] = arguments[_key];\n  }\n\n  return handler.apply(null, [].concat(opts, rest));\n}\n\nvar HTTP_DEFAULTS = {\n  serverErrorText: '服务器开小差啦～',\n\n  jsonify: function jsonify(params) {\n    return params;\n  },\n\n  isRestful: function isRestful(res) {\n    return !(res !== undefined && hasOwnProp('success', res) && hasOwnProp('message', res));\n  },\n\n  errorHandler: function errorHandler(res) {\n    var code = res.status;\n\n    if (code >= 500) {\n      invoke('notice.alert', getDefaults('http.serverErrorText'));\n    } else if (code >= 400) {\n      var resText = res.responseText;\n      var resJson = void 0;\n\n      if (hasOwnProp('responseJSON', res)) {\n        resJson = res.responseJSON;\n      } else {\n        try {\n          resJson = JSON.parse(resText);\n        } catch (err) {\n          resJson = null;\n        }\n      }\n\n      if (isPlainObject(resJson) && hasOwnProp('message', resJson)) {\n        resText = resJson.message;\n      }\n\n      invoke('notice.alert', resText);\n    }\n  },\n\n  responseHandler: function responseHandler(res, callback) {\n    var hasCallback = isFunction(callback);\n\n    if (getDefaults('http.isRestful')(res)) {\n      if (isString(res) && res !== '') {\n        invoke('notice.alert', res);\n      } else if (hasCallback) {\n        callback.call(null, res);\n      }\n    }\n\n    else {\n        if (!res.success) {\n          invoke('notice.alert', res.message);\n        } else if (hasCallback) {\n          callback.call(null, res.data);\n        }\n      }\n  },\n\n  completeHandler: function completeHandler() {}\n};\n\nsetDefaults('http', HTTP_DEFAULTS);\n\nvar requestSender = void 0;\n\nfunction resolveRequestSender() {\n  return supportJquery() && jQuery.support.ajax && isFunction(jQuery.ajax) ? 'jquery' : supportAxios() ? 'axios' : null;\n}\n\nfunction resolveResponseResult(res, callback) {\n  var handler = getDefaults('http.responseHandler');\n\n  if (!isFunction(handler)) {\n    return;\n  }\n\n  return handler(res, callback);\n}\n\nfunction sendRequestViaJquery(opts) {\n  var httpDefaults = getDefaults('http');\n  var params = httpDefaults.jsonify(opts.params);\n  var url = opts.url,\n      method = opts.method,\n      callback = opts.callback;\n\n  var resolved = { url: url, method: method, type: method };\n\n  if (opts.isJson === true) {\n    resolved.data = JSON.stringify(params);\n    resolved.contentType = 'application/json; charset=UTF-8';\n  } else if (!includes(method, ['get', 'delete'])) {\n    resolved.data = params;\n  } else if (isPlainObject(params) && keys(params).length) {\n    resolved.url += '?' + map(keys(params), function (k) {\n      return k + '=' + encodeURIComponent(params[k]);\n    }).join('&');\n  }\n\n  var req = window.jQuery.ajax(resolved);\n\n  if (opts.global !== false) {\n    req.always(function () {\n      return httpDefaults.completeHandler();\n    }).done(function (res) {\n      resolveResponseResult(res, function (result) {\n        if (isFunction(callback)) {\n          callback.call(null, result, res);\n        }\n      });\n    }).fail(function (jqXHR) {\n      return httpDefaults.errorHandler(jqXHR);\n    });\n  }\n\n  return req;\n}\n\nfunction sendRequestViaAxios(opts) {\n  return window.axios(opts);\n}\n\nfunction sendHttpRequest(opts) {\n  if (!isFunction(requestSender)) {\n    requestSender = resolveRequestSender();\n  }\n\n  var resolved = extendTarget({\n    url: '',\n    method: 'get',\n    params: null,\n    callback: null,\n    isJson: false\n  }, opts);\n\n  return requestSender === 'jquery' ? sendRequestViaJquery(resolved) : requestSender === 'axios' ? sendRequestViaAxios(resolved) : null;\n}\n\nfunction generateHttpUtil(method) {\n  return function (url, params, callback, isJson) {\n    var global = void 0;\n\n    if (isPlainObject(url)) {\n      var opts = url;\n\n      url = opts.url;\n      params = opts.data;\n      callback = opts.callback;\n      isJson = opts.isJson;\n      global = opts.global;\n    }\n\n    else if (isFunction(params)) {\n        isJson = callback;\n        callback = params;\n        params = {};\n      }\n\n      else if (isPlainObject(callback)) {\n          isJson = callback.isJson;\n          callback = callback.callback;\n          global = callback.global;\n        }\n\n        else if (isPlainObject(isJson)) {\n            isJson = isJson.isJson;\n            global = isJson.global;\n          }\n\n    return sendHttpRequest({ url: url, method: method, params: params, callback: callback, isJson: isJson, global: global });\n  };\n}\n\nvar httpGetUtil = generateHttpUtil('get');\nvar httpPostUtil = generateHttpUtil('post');\nvar httpPutUtil = generateHttpUtil('put');\nvar httpDeleteUtil = generateHttpUtil('delete');\n\n\n\nvar http = Object.freeze({\n\tget: httpGetUtil,\n\tpost: httpPostUtil,\n\tput: httpPutUtil,\n\tdelete: httpDeleteUtil\n});\n\nfunction supportWebSocket() {\n  return hasOwnProp('WebSocket', window);\n}\n\nfunction isUrl(target) {\n  return (/^((http(s)?\\:)?\\/\\/|\\/[^\\/]+).+/i.test(target)\n  );\n}\n\nvar FORM_DEFAULTS = {\n  filter: function filter(data, $field, arr) {\n    return true;\n  },\n  serializer: function serializer(arr) {\n    return arr;\n  }\n};\n\nsetDefaults('form', FORM_DEFAULTS);\n\nfunction isQueryStr(str) {\n  return isString(str) && str.split('&').length > 0 && str.split('&')[0].split('=').length > 0;\n}\n\nfunction queryStr2SerializedArr(str) {\n  return map(str.split('&'), function (pair) {\n    var p = pair.split('=');\n\n    return {\n      name: p[0],\n      value: decodeURIComponent(p[1])\n    };\n  });\n}\n\nfunction jsonifyFormData($form, callback) {\n  var jsonData = {};\n\n  eachItem(isArray($form) ? $form : isQueryStr($form) ? queryStr2SerializedArr($form) : $($form).serializeArray(), function (p) {\n    jsonData[p.name] = hasOwnProp(p.name, jsonData) ? [].concat(jsonData[p.name], p.value) : p.value;\n  });\n\n  if (isFunction(callback)) {\n    var newJson = callback(jsonData);\n\n    if (isPlainObject(newJson)) {\n      jsonData = newJson;\n    }\n  }\n\n  return jsonData;\n}\n\nvar HTTP_DEFAULTS$1 = {\n  RESTful: true,\n  waitingText: '数据保存中，请耐心等待...',\n  jsonify: function jsonify$$1(params) {\n    return isPlainObject(params) || isArray(params) ? params : jsonifyFormData(params);\n  },\n  completeHandler: function completeHandler() {\n    $('.modal:visible .js-waitForResult:visible').each(function () {\n      var $layer = $(this);\n      var $modal = $layer.closest('.modal');\n\n      $layer.hide();\n      $modal.removeClass('is-waiting');\n      $('button', $('.modal-header, .modal-footer', $modal)).prop('disabled', false);\n    });\n  }\n};\n\nsetDefaults('http', HTTP_DEFAULTS$1);\n\nfunction waitingForResponse($target) {\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getDefaults('http.waitingText');\n\n  var $dlg = $target.closest('.modal');\n\n  if ($dlg.length) {\n    $dlg.addClass('is-waiting');\n\n    if ($('.js-waitForResult', $dlg).length) {\n      $('.js-waitForResult', $dlg).show();\n    } else {\n      $('.modal-content', $dlg).append('<div class=\"Layer Layer--loading js-waitForResult\"><p>' + text + '</p></div>');\n    }\n\n    $('button', $('.modal-header, .modal-footer', $dlg)).prop('disabled', true);\n  }\n}\n\nfunction generateHttpUtil$1(method) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = last(args);\n\n    if (isPlainObject(opts) && opts.$waiting) {\n      waitingForResponse(opts.$waiting, opts.waitingText);\n    }\n\n    return http[method].apply(http, args);\n  };\n}\n\nvar httpGetUtil$1 = generateHttpUtil$1('get');\nvar httpPostUtil$1 = generateHttpUtil$1('post');\nvar httpPutUtil$1 = generateHttpUtil$1('put');\nvar httpDeleteUtil$1 = generateHttpUtil$1('delete');\n\nvar result = function result() {\n  return getDefaults('http.responseHandler').apply(undefined, arguments);\n};\n\nvar http$1 = Object.freeze({\n\tget: httpGetUtil$1,\n\tpost: httpPostUtil$1,\n\tput: httpPutUtil$1,\n\tdelete: httpDeleteUtil$1,\n\twaiting: waitingForResponse,\n\tresult: result\n});\n\nfunction resolveSocketUrl(url) {\n  var isNoProtocol = url.indexOf('//') === 0;\n\n  if (location.hostname === 'localhost') {\n    url = isNoProtocol ? 'ws:' + url : url.replace(/^ws(s)?\\:\\/\\//, 'ws\\:\\/\\/');\n  }\n\n  else if (isNoProtocol) {\n      url = 'wss:' + url;\n    }\n\n  return url;\n}\n\nfunction keepSocketAlive(ws, interval) {\n  setTimeout(function () {\n    ws.send('使 WebSocket 连接保持活跃');\n    keepSocketAlive(ws, interval);\n  }, interval);\n}\n\nfunction init(opts) {\n  if (isString(opts)) {\n    opts = { url: opts };\n  }\n\n  if (!(supportWebSocket() && isPlainObject(opts) && hasOwnProp('url', opts))) {\n    return;\n  }\n\n  var ws = new WebSocket(resolveSocketUrl(opts.url));\n\n  if (opts.closeBeforeUnload !== false) {\n    window.addEventListener('beforeunload', function () {\n      ws.close();\n    });\n  }\n\n  if (isNumeric(opts.interval) && opts.interval * 1 > 0) {\n    ws.addEventListener('open', function () {\n      keepSocketAlive(ws, opts.interval);\n    });\n  }\n\n  eachItem(['open', 'close', 'message', 'error'], function (evtName) {\n    var handler = opts['on' + capitalize(evtName)];\n\n    if (isFunction(handler)) {\n      ws.addEventListener(evtName, handler);\n    }\n  });\n\n  return ws;\n}\n\n\n\nvar socket = Object.freeze({\n\tinit: init\n});\n\nfunction getMoveDigit(a, b) {\n  var _a = void 0,\n      _b = void 0,\n      la = void 0,\n      lb = void 0;\n\n  a = a.toString(10);\n  b = b.toString(10);\n\n  _a = a.split('.');\n  _b = b.split('.');\n\n  la = _a.length === 2 ? _a[1].length : 0;\n  lb = _b.length === 2 ? _b[1].length : 0;\n\n  return Math.max(la, lb);\n}\n\nfunction move2Right(num, digit) {\n  var str = void 0,\n      _num = void 0;\n\n  if (digit === 0) {\n    return num;\n  }\n\n  num = num.toString(10);\n  _num = num.split('.');\n  str = _num[1] ? _num[1] : '';\n  _num = _num[0];\n\n  for (var i = 0; i < digit; i++) {\n    _num += str[i] ? str[i] : '0';\n  }\n\n  return _num * 1;\n}\n\nfunction move2Left(num, digit) {\n  if (digit === 0) {\n    return num;\n  }\n\n  var arr = void 0,\n      len = void 0;\n\n  num = num.toString();\n  arr = num.split('.');\n\n  if (arr.length === 2) {\n    digit += arr[1].length;\n    num = num.replace('.', '');\n  }\n\n  arr = num.split('');\n  len = num.length;\n\n  for (var i = 0; i < digit - len; i++) {\n    arr.unshift('0');\n  }\n\n  arr.splice(arr.length - digit, 0, '.');\n\n  return arr.join('') * 1;\n}\n\nfunction plus(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) + move2Right(b, d), d);\n}\n\nfunction minus(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) - move2Right(b, d), d);\n}\n\nfunction multiply(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Left(move2Right(a, d) * move2Right(b, d), d * 2);\n}\n\nfunction divided(a, b) {\n  var d = getMoveDigit(a, b);\n\n  return move2Right(a, d) / move2Right(b, d);\n}\n\n\n\nvar calc = Object.freeze({\n\tplus: plus,\n\tminus: minus,\n\tmultiply: multiply,\n\tdivided: divided\n});\n\nfunction filterUnchanged(data, raw, excluded) {\n  var filtered = {};\n\n  if (isPlainObject(data)) {\n    if (isPlainObject(raw)) {\n      if (!isArray(excluded)) {\n        excluded = [];\n      }\n\n      eachItem(data, function (k, v) {\n        if (excluded.length > 0 && includes(k, excluded) || v !== raw[k]) {\n          filtered[k] = v;\n        }\n      });\n    } else {\n      filtered = data;\n    }\n  }\n\n  return filtered;\n}\n\n\n\nvar data = Object.freeze({\n\tchanged: filterUnchanged\n});\n\nvar STORAGE_KEY = {\n  IMAGE_ITEM_MAX: \"handie.imageItemMax\"\n};\n\nfunction createTemporaryLinkElement(url) {\n  var el = document.createElement('a');\n\n  el.setAttribute('href', url);\n\n  return el;\n}\n\nfunction sliceUrlPart(part, url) {\n  if (!isString(url) || !isUrl(url) && url.indexOf('URL_PLACEHOLDER') === -1) {\n    url = window.location.href;\n  }\n\n  var result = createTemporaryLinkElement(url)[part];\n\n  return includes(part, ['hash', 'search']) ? result.slice(1) : result;\n}\n\nfunction resolveFileExtension(url) {\n  var segments = sliceUrlPart('pathname', url).split('\\/');\n  var length = segments.length;\n\n  var fileName = segments[length - 1];\n\n  if (fileName === '') {\n    fileName = segments[length - 2];\n  }\n\n  var ext = fileName.match(/\\.([^\\.]+)$/);\n\n  return ext ? ext[1].toUpperCase() : '';\n}\n\nfunction jsonifyQueryString(str) {\n  var jsonData = {};\n\n  eachItem(str.split('&'), function (pair) {\n    pair = pair.split('=');\n    jsonData[pair[0]] = decodeURIComponent(pair[1]);\n  });\n\n  return jsonData;\n}\n\nvar builtInActions = {\n  edit: {\n    text: '编辑',\n    icon: 'edit'\n  },\n  delete: {\n    text: '删除',\n    action: 'delete',\n    icon: 'trash'\n  },\n  disable: {\n    text: '禁用',\n    icon: 'pause'\n  },\n  enable: {\n    text: '启用',\n    icon: 'play'\n  }\n};\n\nfunction resolveDefaultTriggerOptions() {\n  return extendTarget(true, {}, builtInActions, getDefaults('generator.actions'));\n}\n\nfunction resolveTriggerOptionsSimply(opts) {\n  if (isString(opts) && hasOwnProp(opts, resolveDefaultTriggerOptions())) {\n    opts = { action: opts };\n  }\n\n  return opts;\n}\n\nfunction resolveTriggerOptions(opts) {\n  var defaultActionOpts = resolveDefaultTriggerOptions();\n  var action = opts.isDelete === true ? 'delete' : opts.action;\n\n  if (hasOwnProp(action, defaultActionOpts)) {\n    var defaultOpts = defaultActionOpts[action];\n\n    eachItem(keys(defaultOpts), function (k) {\n      if (!hasOwnProp(k, opts)) {\n        opts[k] = defaultOpts[k];\n      }\n    });\n  }\n\n  return opts;\n}\n\nfunction generateMainTrigger(opts) {\n  var triggerCls = [].concat(opts.btnCls);\n  var attrs = [];\n\n  var tagName = void 0;\n\n  if (isString(opts.action)) {\n    triggerCls.push('js-' + opts.action);\n  }\n\n  if (isString(opts.url)) {\n    tagName = 'a';\n\n    attrs.push('href=\"' + opts.url + '\"');\n\n    if (opts.isExternal === true) {\n      attrs.push('target=\"_blank\"');\n    }\n  } else {\n    tagName = 'button';\n\n    attrs.push('type=\"button\"');\n\n    if (opts.disabled === true) {\n      attrs.push('disabled');\n    }\n  }\n\n  if (opts.hasChildren && opts.isSplit !== true) {\n    triggerCls.push('dropdown-toggle');\n    attrs.push('data-toggle=\"dropdown\"');\n  }\n\n  attrs.push('class=\"' + triggerCls.join(' ') + '\"', 'title=\"' + (opts.tooltip || opts.text) + '\"');\n\n  var html = ['<' + tagName + ' ' + attrs.concat(opts.btnAttrs).join(' ') + '>'];\n\n  if (isString(opts.icon)) {\n    var iconCls = ['Operation-icon', 'fa', 'fa-' + opts.icon];\n\n    if (opts.fixedWidth !== false) {\n      iconCls.push('fa-fw');\n    }\n\n    html.push('<i class=\"' + iconCls.join(\" \") + '\"></i><span class=\"' + (opts.isCoexisted === true ? 'Operation-label' : 'sr-only') + '\">' + opts.text + '</span>');\n  } else {\n    html.push(opts.text);\n  }\n\n  if (opts.hasChildren && opts.isSplit !== true) {\n    html.push('<span class=\"caret\"></span>');\n  }\n\n  html.push('</' + tagName + '>');\n\n  return html.join('');\n}\n\nfunction generateSubItem(item) {\n  var content = void 0;\n\n  if (isString(item)) {\n    content = item;\n  } else if (isPlainObject(item)) {\n    item = resolveTriggerOptions(item);\n\n    if (hasOwnProp('html', item)) {\n      content = item.html;\n    } else {\n      content = '<a class=\"js-' + item.action + '\" href=\"' + (isString(item.url) ? item.url : 'javascript:void(0);') + '\"' + (item.isExternal === true ? 'target=\"_blank\"' : '') + '>' + item.text + '</a>';\n    }\n  }\n\n  return '<li>' + (content || '') + '</li>';\n}\n\nfunction generateDropdownMenu(opts) {\n  var html = [];\n\n  if (opts.isSplit === true) {\n    html.push('<button type=\"button\" class=\"' + opts.btnCls.concat('dropdown-toggle').join(' ') + '\" data-toggle=\"dropdown\"', opts.disabled === true ? ' disabled' : '', '><span class=\"caret\"></span></button>');\n  }\n\n  html.push('<ul class=\"Operation-menu dropdown-menu', opts.align === 'right' ? ' dropdown-menu-right' : '', '\">');\n\n  html.push(map(opts.actions, function (child, idx) {\n    var isGrouped = isArray(child);\n\n    var items = !isGrouped ? generateSubItem(child) : map(child, function (groupedChild) {\n      return generateSubItem(groupedChild);\n    }).join('');\n\n    if (idx > 0 && isGrouped) {\n      items = '<li class=\"divider\"></li>' + items;\n    }\n\n    return items;\n  }).join(''));\n\n  html.push('</ul>');\n\n  return html.join('');\n}\n\nfunction constructActionButton(opts, settings) {\n  opts = resolveTriggerOptionsSimply(opts);\n\n  if (!isPlainObject(opts)) {\n    return '';\n  }\n\n  extendTarget(opts, settings);\n\n  var html = [];\n  var size = opts.size || 'xs';\n  var hasChildren = hasOwnProp('actions', opts) && isArray(opts.actions);\n\n  var btnCls = clone(opts.classes);\n\n  if (isString(btnCls)) {\n    btnCls = btnCls.split(' ');\n  } else if (!isArray(btnCls)) {\n    btnCls = [];\n  }\n\n  btnCls = ['Operation', 'btn', 'btn-' + (opts.isPrimary === true ? 'primary' : opts.isDelete === true ? 'danger' : 'default'), 'btn-' + size].concat(btnCls);\n\n  var btnAttrs = clone(opts.attributes);\n\n  if (isPlainObject(btnAttrs)) {\n    var attrs = [];\n\n    eachItem(btnAttrs, function (v, k) {\n      attrs.push(k + '=' + v);\n    });\n\n    btnAttrs = attrs;\n  } else if (isString(btnAttrs)) {\n    btnAttrs = btnAttrs.split(' ');\n  } else if (!isArray(btnAttrs)) {\n    btnAttrs = [];\n  }\n\n  html.push(generateMainTrigger(extendTarget({}, resolveTriggerOptions(opts), {\n    btnCls: btnCls.concat(isString(opts.buttonClass) ? opts.buttonClass : []),\n    btnAttrs: btnAttrs,\n    hasChildren: hasChildren\n  })));\n\n  if (hasChildren) {\n    html.unshift('<div class=\"btn-group btn-group-' + size + '\">');\n    html.push(generateDropdownMenu(extendTarget({}, opts, { btnCls: btnCls })), '</div>');\n  }\n\n  return html.join('');\n}\n\nfunction isImageItemOverflow($btn, limit) {\n  return $('.ImageItem:not(.ImageItem--add)', $btn.closest('.ImageList').parent()).length >= limit;\n}\n\nvar GENERATOR_DEFAULTS = {\n  imageColumnCount: 3,\n  actions: {}\n};\n\nsetDefaults('generator', GENERATOR_DEFAULTS);\n\nfunction generateImageItem(url, alt, removable) {\n  var html = [];\n\n  alt = alt || '';\n\n  var ext = void 0;\n\n  if (url && isString(url)) {\n    ext = resolveFileExtension(url);\n  }\n\n  html.push('<figure class=\"ImageItem');\n\n  if (url && ext && !includes(ext.toLowerCase(), getDefaults('uploader.extension.image').split(','))) {\n    html.push(' is-nongraphic');\n  }\n\n  html.push('\"><div><a href=\"' + (url || 'javascript:void(0);') + '\" target=\"_blank\" data-file-ext=\"' + ext + '\"><img src=\"' + (url || '') + '\" alt=\"' + alt + '\" title=\"' + alt + '\"></a></div>');\n\n  if (alt) {\n    html.push('<figcaption class=\"u-textTruncate\" title=\"' + alt + '\">' + alt + '</figcaption>');\n  }\n\n  if (removable === true) {\n    html.push('<button type=\"button\" class=\"ImageItem-button fa fa-close js-removeUploadedImage\" title=\"删除\"><span class=\"sr-only\"></span></button>');\n  }\n\n  html.push(\"</figure>\");\n\n  return html.join('');\n}\n\nfunction insertImageItem(opts) {\n  var $btn = $(opts.$btn);\n  var maxCount = opts.max;\n\n  if (!$btn.is('.ImageItem') || maxCount && isImageItemOverflow($btn, maxCount)) {\n    return;\n  }\n\n  var columnCount = Number(opts.column);\n\n  if (isNaN(columnCount) || columnCount <= 0) {\n    columnCount = getDefaults('generator.imageColumnCount');\n  }\n\n  var listCls = 'ImageList';\n  var itemCls = 'ImageList-item';\n\n  var $btnCol = opts.$btn.closest('.' + itemCls);\n  var $newCol = $('<div class=\"' + itemCls + ' col-sm-' + 12 / columnCount + ' is-dynamic\" />');\n\n  $newCol.html(generateImageItem(opts.url, opts.text, opts.removable));\n  $btnCol.before($newCol);\n\n  if (isFunction(opts.callback)) {\n    opts.callback.call(null, $newCol, $btnCol);\n  }\n\n  var imageItemSize = $btnCol.siblings('.' + itemCls).length;\n\n  if (imageItemSize === columnCount) {\n    $('.' + listCls + ':last', opts.$el).after('<div class=\"' + listCls + ' row\" />');\n    $('.' + listCls + ':last', opts.$el).append($btnCol);\n  }\n\n  if (maxCount) {\n    var $btnRow = $btnCol.closest('.' + listCls);\n    var hiddenCls = 'u-hidden';\n\n    $btn.data(STORAGE_KEY.IMAGE_ITEM_MAX, maxCount);\n\n    $('.' + listCls + '.' + hiddenCls + ', .' + itemCls + '.' + hiddenCls, $btnRow.parent()).removeClass(hiddenCls);\n\n    if (isImageItemOverflow($btnRow, maxCount)) {\n      $btnCol.addClass(hiddenCls);\n\n      if (imageItemSize === 0) {\n        $btnRow.addClass(hiddenCls);\n      }\n    }\n  }\n\n  return $newCol;\n}\n\nfunction action(actions, wrapped) {\n  actions = resolveTriggerOptionsSimply(actions);\n\n  if (isPlainObject(actions)) {\n    actions = [actions];\n  }\n\n  actions = actions.concat(getDefaults('table.rowActions'));\n\n  if (!isArray(actions)) {\n    return false;\n  }\n\n  var html = map(actions, function (a) {\n    return constructActionButton(a, { align: 'right' });\n  });\n\n  if (actions.length > 1 || wrapped === true) {\n    html.unshift('<div class=\"OperationGroup\">');\n    html.push('</div>');\n  }\n\n  return html.join('');\n}\n\nfunction option() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var extra = arguments[2];\n  var selected = arguments[3];\n\n  var attrs = ['class=\"is-dynamic\"', 'value=\"' + value + '\"'];\n\n  if (isPlainObject(extra)) {\n    eachItem(extra, function (v, k) {\n      return attrs.push('data-' + k + '=\"' + v + '\"');\n    });\n  } else {\n    selected = extra;\n  }\n\n  if (selected === true) {\n    attrs.push('selected');\n  }\n\n  return '<option ' + attrs.join(' ') + '>' + text + '</option>';\n}\n\n\n\nvar generate = Object.freeze({\n\taction: action,\n\toption: option,\n\timage: generateImageItem,\n\timageItem: insertImageItem\n});\n\nfunction generateUrlUtil(part) {\n  return function (url) {\n    return sliceUrlPart(part, url);\n  };\n}\n\nvar urlSearchUtil = generateUrlUtil('search');\n\nvar href = generateUrlUtil('href');\n\nvar protocol = generateUrlUtil('protocol');\n\nvar host = generateUrlUtil('host');\n\nvar hostname = generateUrlUtil('hostname');\n\nvar port = generateUrlUtil('port');\n\nvar pathname = generateUrlUtil('pathname');\n\nvar hash = generateUrlUtil('hash');\n\nvar username = generateUrlUtil('username');\n\nvar password = generateUrlUtil('password');\n\nvar origin = generateUrlUtil('origin');\n\nfunction query(url, key) {\n  var defaultUrl = window.location.href;\n  var length = arguments.length;\n\n  if (length === 1 && isString(url) && url.indexOf('http') === -1) {\n    key = url;\n    url = defaultUrl;\n  }\n\n  if (!isString(url)) {\n    url = defaultUrl;\n  }\n\n  var jsonified = jsonifyQueryString(urlSearchUtil(url));\n\n  return key == null ? jsonified : jsonified[key];\n}\n\n\n\nvar url = Object.freeze({\n\thref: href,\n\tprotocol: protocol,\n\thost: host,\n\thostname: hostname,\n\tport: port,\n\tpathname: pathname,\n\thash: hash,\n\tusername: username,\n\tpassword: password,\n\torigin: origin,\n\tquery: query,\n\tsearch: urlSearchUtil\n});\n\nfunction copyText(content) {\n  var ipt = document.createElement('input');\n\n  ipt.setAttribute('value', content);\n  document.body.appendChild(ipt);\n  ipt.select();\n  document.execCommand('copy');\n  document.body.removeChild(ipt);\n\n  return content;\n}\n\nfunction copy(content, keepSelected) {\n  var $el = void 0;\n\n  if (!isString(content)) {\n    $el = $(content);\n\n    var el = $el.get(0);\n\n    if (el == null || el.nodeType !== 1) {\n      return;\n    }\n\n    if (includes(el.tagName.toLowerCase(), ['input', 'textarea'])) {\n      content = $el.val();\n    } else {\n      content = $el.text();\n    }\n  }\n\n  copyText(content);\n\n  if ($el && keepSelected === true) {\n    $el.select();\n  }\n\n  return content;\n}\n\n\n\nvar text = Object.freeze({\n\tcopy: copy\n});\n\nfunction resolveAlias(key) {\n  return key === 'ajax' ? 'http' : key;\n}\n\nfunction setDefaults$1(settings) {\n  if (isPlainObject(settings)) {\n    eachItem(settings, function (v, k) {\n      return setDefaults(resolveAlias(k), v);\n    });\n  }\n}\n\nwindow.handie = {\n  setDefaults: setDefaults$1, set: setBizData, get: getBizData, alert: alert,\n  http: http$1, socket: socket,\n  generate: generate, text: text, calc: calc,\n  data: data, url: url,\n\n  ajax: http$1,\n  calculate: calc\n};\n\n})));\n"]}